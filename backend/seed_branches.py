# seed_branches.py

from app.extensions import db
from app.models import Branch
from flask import Flask
from datetime import datetime
from sqlalchemy import text

def seed_branches():
    app = Flask(__name__)
    app.config.from_object("app.config.Config")

    with app.app_context():
        db.init_app(app)

        # ðŸš¨ Use raw connection to disable FK checks immediately
        with db.engine.connect() as conn:
            conn.execute(text("SET FOREIGN_KEY_CHECKS = 0;"))
            Branch.__table__.drop(bind=conn, checkfirst=True)
            Branch.__table__.create(bind=conn)
            conn.execute(text("SET FOREIGN_KEY_CHECKS = 1;"))

        # ðŸŒ± Insert branch data
        branches = [
            Branch(name="2nd Floor", ip_range="172.19.52.230/32"),
            Branch(name="7th Floor Main", ip_range="172.19.57.230/32"),
            Branch(name="7th ID", ip_range="172.19.57.231/32"),
            Branch(name="8th Floor Main", ip_range="172.19.58.230/32"),
            Branch(name="8th HRD Room 1", ip_range="172.19.58.231/32"),
            Branch(name="8th HRD Room 2", ip_range="172.19.58.232/32"),
            Branch(name="9th Floor Main", ip_range="172.19.59.230/32"),
            Branch(name="10th Floor Main", ip_range="172.19.60.230/32"),
            Branch(name="11th Floor Main", ip_range="172.19.61.230/32"),
            Branch(name="12th Floor Main", ip_range="172.19.62.230/32"),
            Branch(name="13th Floor Main", ip_range="172.19.63.230/32"),
            Branch(name="13th Treasury Room", ip_range="172.19.63.231/32"),
            Branch(name="14th Floor Main", ip_range="172.19.65.230/32"),
            Branch(name="14th Floor", ip_range="172.19.65.235/32"),
            Branch(name="15th Floor Main", ip_range="172.19.65.231/32"),
            Branch(name="16th Floor Main", ip_range="172.19.65.232/32"),
            Branch(name="23rd Floor Main", ip_range="172.19.65.234/32"),
            Branch(name="Principal Branch", ip_range="172.19.102.231/32"),
            Branch(name="Hemayetpur Branch", ip_range="172.19.103.231/32"),
            Branch(name="Bhatiary Branch", ip_range="172.19.104.231/32"),
            Branch(name="Agrabad Branch", ip_range="172.19.105.231/32"),
            Branch(name="Khulna Branch", ip_range="172.19.106.231/32"),
            Branch(name="Katakhali Branch", ip_range="172.19.107.231/32"),
            Branch(name="Keraniganj Branch", ip_range="172.19.108.231/32"),
            Branch(name="Uttara Branch", ip_range="172.19.109.231/32"),
            Branch(name="Gulshan Branch", ip_range="172.19.110.231/32"),
            Branch(name="Velanagar Branch", ip_range="172.19.111.231/32"),
            Branch(name="Imamganj Branch", ip_range="172.19.112.231/32"),
            Branch(name="Ashulia Branch", ip_range="172.19.113.231/32"),
            Branch(name="Dhanmondi Branch", ip_range="172.19.114.231/32"),
            Branch(name="Sylhet", ip_range="172.19.116.231/32"),
            Branch(name="Jubliroad Sub Branch", ip_range="172.19.117.231/32"),
            Branch(name="bogura", ip_range="172.19.118.231/32"),
            Branch(name="Mawna Branch", ip_range="172.19.119.231/32"),
            Branch(name="Islampur", ip_range="172.19.120.231/32"),
            Branch(name="Modhunaghat Branch", ip_range="172.19.121.231/32"),
            Branch(name="Shyamnagar Branch", ip_range="172.19.122.231/32"),
            Branch(name="Gazipur Branch", ip_range="172.19.123.231/32"),
            Branch(name="Moynamoti Branch", ip_range="172.19.124.231/32"),
            Branch(name="Banglabazar Branch", ip_range="172.19.125.231/32"),
            Branch(name="Banani Branch", ip_range="172.19.126.231/32"),
            Branch(name="Chuknagar Branch", ip_range="172.19.127.231/32"),
            Branch(name="Madhobdi Branch", ip_range="172.19.128.231/32"),
            Branch(name="Barishal Branch", ip_range="172.19.129.231/32"),
            Branch(name="Sarbolakkhona Branch", ip_range="172.19.130.231/32"),
            Branch(name="Rajshahi Branch", ip_range="172.19.131.231/32"),
            Branch(name="Nababpur Branch", ip_range="172.19.132.231/32"),
            Branch(name="Mirpur Branch", ip_range="172.19.133.230/32"),
            Branch(name="Mirpur Vault Room", ip_range="172.19.133.231/32"),
            Branch(name="SHIBU-MARKET", ip_range="172.19.134.231/32"),
            Branch(name="Ghonapara Branch", ip_range="172.19.135.231/32"),
            Branch(name="Digraj Branch", ip_range="172.19.136.231/32"),
            Branch(name="Bijoynagar Branch", ip_range="172.19.137.231/32"),
            Branch(name="Narayangonj Branch", ip_range="172.19.138.231/32"),
            Branch(name="Fatikchari Branch", ip_range="172.19.139.231/32"),
            Branch(name="Baburhat Branch", ip_range="172.19.140.231/32"),
            Branch(name="Rangpur Branch", ip_range="172.19.141.231/32"),
            Branch(name="Jessore Branch", ip_range="172.19.142.231/32"),
            Branch(name="Takerhat Branch", ip_range="172.19.143.231/32"),
            Branch(name="Nasirabad Branch", ip_range="172.19.144.231/32"),
            Branch(name="Bhomra Branch", ip_range="172.19.145.231/32"),
            Branch(name="Morrelganj Branch", ip_range="172.19.146.231/32"),
            Branch(name="Hasnabad Branch", ip_range="172.19.147.231/32"),
            Branch(name="Kharabad Branch", ip_range="172.19.148.231/32"),
            Branch(name="Chalakchar Branch", ip_range="172.19.149.231/32"),
            Branch(name="Panthapath Branch", ip_range="172.19.150.231/32"),
            Branch(name="Mouchak Branch", ip_range="172.19.151.231/32"),
            Branch(name="maligram", ip_range="172.19.152.231/32"),
            Branch(name="Chittagong EPZ Branch", ip_range="172.19.153.231/32"),
            Branch(name="Dinajpur Branch", ip_range="172.19.154.231/32"),
            Branch(name="KDA Branch", ip_range="172.19.155.231/32"),
            Branch(name="Nator Branch", ip_range="172.19.156.231/32"),
            Branch(name="Feni", ip_range="172.19.157.231/32"),
            Branch(name="Kushtia Branch", ip_range="172.19.158.231/32"),
            Branch(name="Labanchora Branch", ip_range="172.19.159.231/32"),
            Branch(name="Khatunganj Branch", ip_range="172.19.160.231/32"),
            Branch(name="Pragati Sharani Branch", ip_range="172.19.161.231/32"),
            Branch(name="Amin Bazar Branch", ip_range="172.19.162.231/32"),
            Branch(name="Banaripara Branch", ip_range="172.19.163.231/32"),
            Branch(name="Faltita Branch", ip_range="172.19.164.231/32"),
            Branch(name="AddaBazar Branch", ip_range="172.19.165.231/32"),
            Branch(name="JIBANNAGAR Branch", ip_range="172.19.166.231/32"),
            Branch(name="Abdullahpur Branch", ip_range="172.19.167.231/32"),
            Branch(name="Bhulta Branch", ip_range="172.19.168.231/32"),
            Branch(name="MYMENSINGH", ip_range="172.19.169.231/32"),
            Branch(name="Birganj Branch", ip_range="172.19.170.231/32"),
            Branch(name="Nazipur", ip_range="172.19.171.231/32"),
            Branch(name="Mehendiganj Branch", ip_range="172.19.172.231/32"),
            Branch(name="Cumilla-branch", ip_range="172.19.173.231/32"),
            Branch(name="Bhola", ip_range="172.19.174.231/32"),
            Branch(name="Bashundhara Branch", ip_range="172.19.175.231/32"),
            Branch(name="Gopalgonj Branch", ip_range="172.19.176.231/32"),
            Branch(name="Jatrabari Sub Branch", ip_range="172.19.177.231/32"),
            Branch(name="BabuBazar Branch", ip_range="172.19.178.231/32"),
            Branch(name="Rayenda Bazar Sub Branch", ip_range="172.19.179.231/32"),
            Branch(name="Rupatali Sub Branch", ip_range="172.19.180.231/32"),
            Branch(name="Ramgonj Branch", ip_range="172.19.181.231/32"),
            Branch(name="kaligonjbr", ip_range="172.19.182.231/32"),
            Branch(name="Palashbari Branch", ip_range="172.19.183.231/32"),
            Branch(name="Palashbari Branch1", ip_range="172.19.183.232/32"),
            Branch(name="Mohakhali Branch", ip_range="172.19.184.231/32"),
            Branch(name="Bhandaria Branch", ip_range="172.19.185.231/32"),
            Branch(name="Lohagara Branch", ip_range="172.19.186.231/32"),
            Branch(name="Benapole Branch", ip_range="172.19.187.231/32"),
            Branch(name="Panchar Sub Branch", ip_range="172.19.188.231/32"),
            Branch(name="Muladi Sub Branch", ip_range="172.19.189.231/32"),
            Branch(name="Hatirpool Branch", ip_range="172.19.190.231/32"),
            Branch(name="Yousuf Market Sub Branch", ip_range="172.19.191.231/32"),
            Branch(name="Laxmipur Sub Branch", ip_range="172.19.192.231/32"),
            Branch(name="Dupchanchia Sub Branch", ip_range="172.19.193.231/32"),
            Branch(name="Khan Jahan Ali Mazar Sub Branch", ip_range="172.19.194.231/32"),
            Branch(name="Gopalpur Sub Branch", ip_range="172.19.195.231/32"),
            Branch(name="Thermax Sub Branch", ip_range="172.19.196.231/32"),
            Branch(name="trunkroad", ip_range="172.19.197.231/32"),
            Branch(name="Pirganj Sub Branch", ip_range="172.19.198.231/32"),
            Branch(name="Barua_Sub Branch", ip_range="172.19.199.231/32"),
            Branch(name="Satkhira Branch", ip_range="172.19.200.231/32"),
            Branch(name="Bagerhat Sub Branch", ip_range="172.19.201.231/32"),
            Branch(name="Dania Sub Branch", ip_range="172.19.202.231/32"),
            Branch(name="Khatungonj Branch", ip_range="172.19.203.231/32"),
            Branch(name="Kalaroa Sub Branch", ip_range="172.19.204.231/32"),
            Branch(name="Mongla Sub Branch", ip_range="172.19.205.231/32"),
            Branch(name="Tejgaon Link Road Branch", ip_range="172.19.206.231/32"),
            Branch(name="Indira Road Sub Branch", ip_range="172.19.207.231/32"),
            Branch(name="Fakirhat sub Branch", ip_range="172.19.208.231/32"),
            Branch(name="Tanbazar Branch", ip_range="172.19.209.231/32"),
            Branch(name="Narshingdi Branch", ip_range="172.19.210.231/32"),
            Branch(name="Darus Salam Branch", ip_range="172.19.211.231/32"),
            Branch(name="COXBAZAR", ip_range="172.19.212.231/32"),
            Branch(name="Bhairab Branch", ip_range="172.19.213.231/32"),
            Branch(name="Pirojpur Sub Branch", ip_range="172.19.214.231/32"),
            Branch(name="SHAHIEIDGAH_SUB Branch", ip_range="172.19.215.231/32"),
            Branch(name="Charfeshon Branch", ip_range="172.19.216.231/32"),
            Branch(name="Hossainpur Branch", ip_range="172.19.217.231/32"),
            Branch(name="Sherpursub-branch", ip_range="172.19.218.231/32"),
            Branch(name="BOTESWORSUB", ip_range="172.19.219.231/32"),
            Branch(name="Aftabganj_Sub", ip_range="172.19.220.231/32"),
            Branch(name="paduabazarsub", ip_range="172.19.221.231/32"),
            Branch(name="Tangail", ip_range="172.19.222.231/32"),
            Branch(name="Birampur_SubB", ip_range="172.19.223.231/32"),
        ]

        db.session.add_all(branches)
        db.session.commit()
        print("âœ… Branches seeded.")

if __name__ == "__main__":
    seed_branches()
